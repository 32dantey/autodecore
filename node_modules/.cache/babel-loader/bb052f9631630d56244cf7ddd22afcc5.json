{"ast":null,"code":"import { Server, Model, RestSerializer } from \"miragejs\";\nimport { v4 as uuid } from \"uuid\";\nimport { loginHandler, signupHandler } from \"./backend/controllers/AuthController\";\nimport { addItemToCartHandler, getCartItemsHandler, removeItemFromCartHandler, updateCartItemHandler, emptyCartHandler } from \"./backend/controllers/CartController\";\nimport { getAllCategoriesHandler, getCategoryHandler } from \"./backend/controllers/CategoryController\";\nimport { getAllProductsHandler, getProductHandler } from \"./backend/controllers/ProductController\";\nimport { addItemToWishlistHandler, getWishlistItemsHandler, removeItemFromWishlistHandler } from \"./backend/controllers/WishlistController\";\nimport { categories } from \"./backend/db/categories\";\nimport { products } from \"./backend/db/products\";\nimport { users } from \"./backend/db/users\";\nexport function makeServer() {\n  let {\n    environment = \"development\"\n  } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return new Server({\n    serializers: {\n      application: RestSerializer\n    },\n    environment,\n    models: {\n      product: Model,\n      category: Model,\n      user: Model,\n      cart: Model,\n      wishlist: Model\n    },\n\n    // Runs on the start of the server\n    seeds(server) {\n      // disballing console logs from Mirage\n      server.logging = false;\n      products.forEach(item => {\n        server.create(\"product\", { ...item\n        });\n      });\n      users.forEach(item => server.create(\"user\", { ...item,\n        cart: [],\n        wishlist: [],\n        orders: [],\n        addresses: [{\n          id: uuid(),\n          name: \"Junaid Shaikh\",\n          mobileNo: \"7936227599\",\n          pincode: \"123212\",\n          address: \"Near Work Building\",\n          city: \"Mumbai\",\n          state: \"Maharashtra\",\n          tag: \"Home\"\n        }]\n      }));\n      categories.forEach(item => server.create(\"category\", { ...item\n      }));\n    },\n\n    routes() {\n      this.namespace = \"api\"; // auth routes (public)\n\n      this.post(\"/auth/signup\", signupHandler.bind(this));\n      this.post(\"/auth/login\", loginHandler.bind(this)); // products routes (public)\n\n      this.get(\"/products\", getAllProductsHandler.bind(this));\n      this.get(\"/products/:productId\", getProductHandler.bind(this)); // categories routes (public)\n\n      this.get(\"/categories\", getAllCategoriesHandler.bind(this));\n      this.get(\"/categories/:categoryId\", getCategoryHandler.bind(this)); // cart routes (private)\n\n      this.get(\"/user/cart\", getCartItemsHandler.bind(this));\n      this.post(\"/user/cart\", addItemToCartHandler.bind(this));\n      this.delete(\"/user/cart\", emptyCartHandler.bind(this));\n      this.post(\"/user/cart/:productId\", updateCartItemHandler.bind(this));\n      this.delete(\"/user/cart/:productId\", removeItemFromCartHandler.bind(this)); // wishlist routes (private)\n\n      this.get(\"/user/wishlist\", getWishlistItemsHandler.bind(this));\n      this.post(\"/user/wishlist\", addItemToWishlistHandler.bind(this));\n      this.delete(\"/user/wishlist/:productId\", removeItemFromWishlistHandler.bind(this));\n    }\n\n  });\n}","map":{"version":3,"sources":["/home/dantey/Desktop/workspace/git_port/autodecore-store/src/server.js"],"names":["Server","Model","RestSerializer","v4","uuid","loginHandler","signupHandler","addItemToCartHandler","getCartItemsHandler","removeItemFromCartHandler","updateCartItemHandler","emptyCartHandler","getAllCategoriesHandler","getCategoryHandler","getAllProductsHandler","getProductHandler","addItemToWishlistHandler","getWishlistItemsHandler","removeItemFromWishlistHandler","categories","products","users","makeServer","environment","serializers","application","models","product","category","user","cart","wishlist","seeds","server","logging","forEach","item","create","orders","addresses","id","name","mobileNo","pincode","address","city","state","tag","routes","namespace","post","bind","get","delete"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,KAAjB,EAAwBC,cAAxB,QAA8C,UAA9C;AACA,SAASC,EAAE,IAAIC,IAAf,QAA2B,MAA3B;AACA,SACEC,YADF,EAEEC,aAFF,QAGO,sCAHP;AAIA,SACEC,oBADF,EAEEC,mBAFF,EAGEC,yBAHF,EAIEC,qBAJF,EAKEC,gBALF,QAMO,sCANP;AAOA,SACEC,uBADF,EAEEC,kBAFF,QAGO,0CAHP;AAIA,SACEC,qBADF,EAEEC,iBAFF,QAGO,yCAHP;AAIA,SACEC,wBADF,EAEEC,uBAFF,EAGEC,6BAHF,QAIO,0CAJP;AAKA,SAASC,UAAT,QAA2B,yBAA3B;AACA,SAASC,QAAT,QAAyB,uBAAzB;AACA,SAASC,KAAT,QAAsB,oBAAtB;AAEA,OAAO,SAASC,UAAT,GAA0D;AAAA,MAAtC;AAAEC,IAAAA,WAAW,GAAG;AAAhB,GAAsC,uEAAJ,EAAI;AAC/D,SAAO,IAAIvB,MAAJ,CAAW;AAChBwB,IAAAA,WAAW,EAAE;AACXC,MAAAA,WAAW,EAAEvB;AADF,KADG;AAIhBqB,IAAAA,WAJgB;AAKhBG,IAAAA,MAAM,EAAE;AACNC,MAAAA,OAAO,EAAE1B,KADH;AAEN2B,MAAAA,QAAQ,EAAE3B,KAFJ;AAGN4B,MAAAA,IAAI,EAAE5B,KAHA;AAIN6B,MAAAA,IAAI,EAAE7B,KAJA;AAKN8B,MAAAA,QAAQ,EAAE9B;AALJ,KALQ;;AAahB;AACA+B,IAAAA,KAAK,CAACC,MAAD,EAAS;AACZ;AACAA,MAAAA,MAAM,CAACC,OAAP,GAAiB,KAAjB;AACAd,MAAAA,QAAQ,CAACe,OAAT,CAAkBC,IAAD,IAAU;AACzBH,QAAAA,MAAM,CAACI,MAAP,CAAc,SAAd,EAAyB,EAAE,GAAGD;AAAL,SAAzB;AACD,OAFD;AAIAf,MAAAA,KAAK,CAACc,OAAN,CAAeC,IAAD,IACZH,MAAM,CAACI,MAAP,CAAc,MAAd,EAAsB,EACpB,GAAGD,IADiB;AAEpBN,QAAAA,IAAI,EAAE,EAFc;AAGpBC,QAAAA,QAAQ,EAAE,EAHU;AAIpBO,QAAAA,MAAM,EAAE,EAJY;AAKpBC,QAAAA,SAAS,EAAE,CACT;AACEC,UAAAA,EAAE,EAAEpC,IAAI,EADV;AAEEqC,UAAAA,IAAI,EAAE,eAFR;AAGEC,UAAAA,QAAQ,EAAE,YAHZ;AAIEC,UAAAA,OAAO,EAAE,QAJX;AAKEC,UAAAA,OAAO,EAAE,oBALX;AAMEC,UAAAA,IAAI,EAAE,QANR;AAOEC,UAAAA,KAAK,EAAE,aAPT;AAQEC,UAAAA,GAAG,EAAE;AARP,SADS;AALS,OAAtB,CADF;AAqBA5B,MAAAA,UAAU,CAACgB,OAAX,CAAoBC,IAAD,IAAUH,MAAM,CAACI,MAAP,CAAc,UAAd,EAA0B,EAAE,GAAGD;AAAL,OAA1B,CAA7B;AACD,KA3Ce;;AA6ChBY,IAAAA,MAAM,GAAG;AACP,WAAKC,SAAL,GAAiB,KAAjB,CADO,CAEP;;AACA,WAAKC,IAAL,CAAU,cAAV,EAA0B5C,aAAa,CAAC6C,IAAd,CAAmB,IAAnB,CAA1B;AACA,WAAKD,IAAL,CAAU,aAAV,EAAyB7C,YAAY,CAAC8C,IAAb,CAAkB,IAAlB,CAAzB,EAJO,CAMP;;AACA,WAAKC,GAAL,CAAS,WAAT,EAAsBtC,qBAAqB,CAACqC,IAAtB,CAA2B,IAA3B,CAAtB;AACA,WAAKC,GAAL,CAAS,sBAAT,EAAiCrC,iBAAiB,CAACoC,IAAlB,CAAuB,IAAvB,CAAjC,EARO,CAUP;;AACA,WAAKC,GAAL,CAAS,aAAT,EAAwBxC,uBAAuB,CAACuC,IAAxB,CAA6B,IAA7B,CAAxB;AACA,WAAKC,GAAL,CAAS,yBAAT,EAAoCvC,kBAAkB,CAACsC,IAAnB,CAAwB,IAAxB,CAApC,EAZO,CAcP;;AACA,WAAKC,GAAL,CAAS,YAAT,EAAuB5C,mBAAmB,CAAC2C,IAApB,CAAyB,IAAzB,CAAvB;AACA,WAAKD,IAAL,CAAU,YAAV,EAAwB3C,oBAAoB,CAAC4C,IAArB,CAA0B,IAA1B,CAAxB;AACA,WAAKE,MAAL,CAAY,YAAZ,EAA0B1C,gBAAgB,CAACwC,IAAjB,CAAsB,IAAtB,CAA1B;AACA,WAAKD,IAAL,CAAU,uBAAV,EAAmCxC,qBAAqB,CAACyC,IAAtB,CAA2B,IAA3B,CAAnC;AACA,WAAKE,MAAL,CACE,uBADF,EAEE5C,yBAAyB,CAAC0C,IAA1B,CAA+B,IAA/B,CAFF,EAnBO,CAwBP;;AACA,WAAKC,GAAL,CAAS,gBAAT,EAA2BnC,uBAAuB,CAACkC,IAAxB,CAA6B,IAA7B,CAA3B;AACA,WAAKD,IAAL,CAAU,gBAAV,EAA4BlC,wBAAwB,CAACmC,IAAzB,CAA8B,IAA9B,CAA5B;AACA,WAAKE,MAAL,CACE,2BADF,EAEEnC,6BAA6B,CAACiC,IAA9B,CAAmC,IAAnC,CAFF;AAID;;AA5Ee,GAAX,CAAP;AA8ED","sourcesContent":["import { Server, Model, RestSerializer } from \"miragejs\";\nimport { v4 as uuid } from \"uuid\";\nimport {\n  loginHandler,\n  signupHandler,\n} from \"./backend/controllers/AuthController\";\nimport {\n  addItemToCartHandler,\n  getCartItemsHandler,\n  removeItemFromCartHandler,\n  updateCartItemHandler,\n  emptyCartHandler,\n} from \"./backend/controllers/CartController\";\nimport {\n  getAllCategoriesHandler,\n  getCategoryHandler,\n} from \"./backend/controllers/CategoryController\";\nimport {\n  getAllProductsHandler,\n  getProductHandler,\n} from \"./backend/controllers/ProductController\";\nimport {\n  addItemToWishlistHandler,\n  getWishlistItemsHandler,\n  removeItemFromWishlistHandler,\n} from \"./backend/controllers/WishlistController\";\nimport { categories } from \"./backend/db/categories\";\nimport { products } from \"./backend/db/products\";\nimport { users } from \"./backend/db/users\";\n\nexport function makeServer({ environment = \"development\" } = {}) {\n  return new Server({\n    serializers: {\n      application: RestSerializer,\n    },\n    environment,\n    models: {\n      product: Model,\n      category: Model,\n      user: Model,\n      cart: Model,\n      wishlist: Model,\n    },\n\n    // Runs on the start of the server\n    seeds(server) {\n      // disballing console logs from Mirage\n      server.logging = false;\n      products.forEach((item) => {\n        server.create(\"product\", { ...item });\n      });\n\n      users.forEach((item) =>\n        server.create(\"user\", {\n          ...item,\n          cart: [],\n          wishlist: [],\n          orders: [],\n          addresses: [\n            {\n              id: uuid(),\n              name: \"Junaid Shaikh\",\n              mobileNo: \"7936227599\",\n              pincode: \"123212\",\n              address: \"Near Work Building\",\n              city: \"Mumbai\",\n              state: \"Maharashtra\",\n              tag: \"Home\",\n            },\n          ],\n        })\n      );\n\n      categories.forEach((item) => server.create(\"category\", { ...item }));\n    },\n\n    routes() {\n      this.namespace = \"api\";\n      // auth routes (public)\n      this.post(\"/auth/signup\", signupHandler.bind(this));\n      this.post(\"/auth/login\", loginHandler.bind(this));\n\n      // products routes (public)\n      this.get(\"/products\", getAllProductsHandler.bind(this));\n      this.get(\"/products/:productId\", getProductHandler.bind(this));\n\n      // categories routes (public)\n      this.get(\"/categories\", getAllCategoriesHandler.bind(this));\n      this.get(\"/categories/:categoryId\", getCategoryHandler.bind(this));\n\n      // cart routes (private)\n      this.get(\"/user/cart\", getCartItemsHandler.bind(this));\n      this.post(\"/user/cart\", addItemToCartHandler.bind(this));\n      this.delete(\"/user/cart\", emptyCartHandler.bind(this));\n      this.post(\"/user/cart/:productId\", updateCartItemHandler.bind(this));\n      this.delete(\n        \"/user/cart/:productId\",\n        removeItemFromCartHandler.bind(this)\n      );\n\n      // wishlist routes (private)\n      this.get(\"/user/wishlist\", getWishlistItemsHandler.bind(this));\n      this.post(\"/user/wishlist\", addItemToWishlistHandler.bind(this));\n      this.delete(\n        \"/user/wishlist/:productId\",\n        removeItemFromWishlistHandler.bind(this)\n      );\n    },\n  });\n}\n"]},"metadata":{},"sourceType":"module"}